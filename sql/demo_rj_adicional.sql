-- =====================================================
-- DADOS DEMO ADICIONAIS - Residencial Jardim Atlântico
-- Adiciona: Encomendas, Cobranças, Votos, Inadimplência
-- Execute APÓS o demo_rj_completo.sql
-- =====================================================

-- =====================================================
-- 1. RESIDENTS (moradores vinculados a unidades)
-- Necessário para encomendas
-- =====================================================
INSERT INTO residents (id, user_id, condo_id, unidade_id, tipo, ativo, created_at) VALUES
-- Bloco A
('00000000-0000-0000-0006-000000002001', '00000000-0000-0000-0000-000000002001', '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0001-000000000101', 'proprietario', true, NOW() - INTERVAL '7 months'),
('00000000-0000-0000-0006-000000002002', '00000000-0000-0000-0000-000000002002', '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0001-000000000102', 'inquilino', true, NOW() - INTERVAL '6 months'),
('00000000-0000-0000-0006-000000002003', '00000000-0000-0000-0000-000000002003', '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0001-000000000201', 'proprietario', true, NOW() - INTERVAL '5 months'),
('00000000-0000-0000-0006-000000002004', '00000000-0000-0000-0000-000000002004', '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0001-000000000202', 'proprietario', true, NOW() - INTERVAL '8 months'),
('00000000-0000-0000-0006-000000002005', '00000000-0000-0000-0000-000000002005', '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0001-000000000301', 'proprietario', true, NOW() - INTERVAL '4 months'),
-- Bloco B
('00000000-0000-0000-0006-000000002011', '00000000-0000-0000-0000-000000002011', '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0001-000000000103', 'proprietario', true, NOW() - INTERVAL '5 months'),
('00000000-0000-0000-0006-000000002012', '00000000-0000-0000-0000-000000002012', '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0001-000000000104', 'inquilino', true, NOW() - INTERVAL '4 months'),
('00000000-0000-0000-0006-000000002015', '00000000-0000-0000-0000-000000002015', '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0001-000000000303', 'proprietario', true, NOW() - INTERVAL '7 months'),
-- Bloco C
('00000000-0000-0000-0006-000000002021', '00000000-0000-0000-0000-000000002021', '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0001-000000000105', 'proprietario', true, NOW() - INTERVAL '7 months'),
('00000000-0000-0000-0006-000000002025', '00000000-0000-0000-0000-000000002025', '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0001-000000000305', 'inquilino', true, NOW() - INTERVAL '3 months'),
-- Bloco D
('00000000-0000-0000-0006-000000002031', '00000000-0000-0000-0000-000000002031', '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0001-000000000107', 'proprietario', true, NOW() - INTERVAL '6 months'),
('00000000-0000-0000-0006-000000002035', '00000000-0000-0000-0000-000000002035', '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0001-000000000307', 'proprietario', true, NOW() - INTERVAL '7 months')
ON CONFLICT (id) DO NOTHING;

-- =====================================================
-- 2. ENCOMENDAS (deliveries)
-- =====================================================
INSERT INTO deliveries (id, condo_id, unit_id, resident_id, created_by, received_at, delivered_by, tracking_code, type, status, notes, created_at) VALUES
-- Encomendas aguardando retirada
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0001-000000000101', '00000000-0000-0000-0006-000000002001', '00000000-0000-0000-0000-000000001010', NOW() - INTERVAL '2 hours', 'Correios', 'BR123456789BR', 'Pacote', 'notified', 'Caixa média - 2kg', NOW() - INTERVAL '2 hours'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0001-000000000201', '00000000-0000-0000-0006-000000002003', '00000000-0000-0000-0000-000000001010', NOW() - INTERVAL '4 hours', 'Amazon', 'TBA123456789', 'Pacote', 'notified', 'Caixa grande', NOW() - INTERVAL '4 hours'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0001-000000000303', '00000000-0000-0000-0006-000000002015', '00000000-0000-0000-0000-000000001010', NOW() - INTERVAL '30 minutes', 'Mercado Livre', 'ME987654321BR', 'Envelope', 'notified', 'Documento', NOW() - INTERVAL '30 minutes'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0001-000000000105', '00000000-0000-0000-0006-000000002021', '00000000-0000-0000-0000-000000001011', NOW() - INTERVAL '1 day', 'Shopee', 'SHPBR987654', 'Pacote', 'notified', 'Caixa pequena', NOW() - INTERVAL '1 day'),
-- Encomendas já retiradas
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0001-000000000102', '00000000-0000-0000-0006-000000002002', '00000000-0000-0000-0000-000000001010', NOW() - INTERVAL '2 days', 'iFood Market', NULL, 'Sacola', 'collected', 'Compras supermercado', NOW() - INTERVAL '2 days'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0001-000000000103', '00000000-0000-0000-0006-000000002011', '00000000-0000-0000-0000-000000001011', NOW() - INTERVAL '3 days', 'Magazine Luiza', 'MGZ789456123', 'Pacote', 'collected', 'Eletrodoméstico', NOW() - INTERVAL '3 days'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0001-000000000301', '00000000-0000-0000-0006-000000002005', '00000000-0000-0000-0000-000000001012', NOW() - INTERVAL '1 day' - INTERVAL '5 hours', 'Correios', 'BR555666777BR', 'Pacote', 'collected', 'Livros', NOW() - INTERVAL '1 day' - INTERVAL '5 hours'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0001-000000000307', '00000000-0000-0000-0006-000000002035', '00000000-0000-0000-0000-000000001010', NOW() - INTERVAL '4 days', 'DHL', 'DHL123789456', 'Pacote', 'collected', 'Importado - China', NOW() - INTERVAL '4 days')
ON CONFLICT DO NOTHING;

-- =====================================================
-- 3. COBRANÇAS DE MORADORES (resident_invoices)
-- Inclui inadimplentes e pagos
-- =====================================================
INSERT INTO resident_invoices (id, condo_id, morador_id, unidade_id, descricao, valor, data_vencimento, status, data_pagamento, created_by, created_at) VALUES
-- DEZEMBRO/2024 - Cotas condominiais (vencimento dia 10)
-- Pagos
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000002001', '00000000-0000-0000-0001-000000000101', 'Taxa condominial - Dezembro/2024', 1400.00, '2024-12-10', 'pago', '2024-12-09', '00000000-0000-0000-0000-000000001001', NOW() - INTERVAL '15 days'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000002003', '00000000-0000-0000-0001-000000000201', 'Taxa condominial - Dezembro/2024', 1400.00, '2024-12-10', 'pago', '2024-12-08', '00000000-0000-0000-0000-000000001001', NOW() - INTERVAL '15 days'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000002005', '00000000-0000-0000-0001-000000000301', 'Taxa condominial - Dezembro/2024', 1400.00, '2024-12-10', 'pago', '2024-12-10', '00000000-0000-0000-0000-000000001001', NOW() - INTERVAL '15 days'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000002011', '00000000-0000-0000-0001-000000000103', 'Taxa condominial - Dezembro/2024', 1120.00, '2024-12-10', 'pago', '2024-12-07', '00000000-0000-0000-0000-000000001001', NOW() - INTERVAL '15 days'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000002021', '00000000-0000-0000-0001-000000000105', 'Taxa condominial - Dezembro/2024', 1072.00, '2024-12-10', 'pago', '2024-12-09', '00000000-0000-0000-0000-000000001001', NOW() - INTERVAL '15 days'),
-- INADIMPLENTES - Em atraso
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000002002', '00000000-0000-0000-0001-000000000102', 'Taxa condominial - Dezembro/2024', 1190.00, '2024-12-10', 'vencido', NULL, '00000000-0000-0000-0000-000000001001', NOW() - INTERVAL '15 days'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000002015', '00000000-0000-0000-0001-000000000303', 'Taxa condominial - Dezembro/2024', 1120.00, '2024-12-10', 'vencido', NULL, '00000000-0000-0000-0000-000000001001', NOW() - INTERVAL '15 days'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000002025', '00000000-0000-0000-0001-000000000305', 'Taxa condominial - Dezembro/2024', 1072.00, '2024-12-10', 'vencido', NULL, '00000000-0000-0000-0000-000000001001', NOW() - INTERVAL '15 days'),
-- Inadimplente recorrente (deve Nov e Dez)
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000002012', '00000000-0000-0000-0001-000000000104', 'Taxa condominial - Novembro/2024', 1120.00, '2024-11-10', 'vencido', NULL, '00000000-0000-0000-0000-000000001001', NOW() - INTERVAL '45 days'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000002012', '00000000-0000-0000-0001-000000000104', 'Taxa condominial - Dezembro/2024', 1120.00, '2024-12-10', 'vencido', NULL, '00000000-0000-0000-0000-000000001001', NOW() - INTERVAL '15 days'),
-- NOVEMBRO/2024 - Histórico (todos pagos exceto o inadimplente)
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000002001', '00000000-0000-0000-0001-000000000101', 'Taxa condominial - Novembro/2024', 1400.00, '2024-11-10', 'pago', '2024-11-08', '00000000-0000-0000-0000-000000001001', NOW() - INTERVAL '45 days'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000002003', '00000000-0000-0000-0001-000000000201', 'Taxa condominial - Novembro/2024', 1400.00, '2024-11-10', 'pago', '2024-11-10', '00000000-0000-0000-0000-000000001001', NOW() - INTERVAL '45 days'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000002005', '00000000-0000-0000-0001-000000000301', 'Taxa condominial - Novembro/2024', 1400.00, '2024-11-10', 'pago', '2024-11-09', '00000000-0000-0000-0000-000000001001', NOW() - INTERVAL '45 days'),
-- Taxa Extra aprovada em assembleia
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000002001', '00000000-0000-0000-0001-000000000101', 'Taxa Extra - Reforma Piscina (1/6)', 250.00, '2024-12-15', 'pendente', NULL, '00000000-0000-0000-0000-000000001001', NOW() - INTERVAL '5 days'),
(gen_random_uuid(), '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000002003', '00000000-0000-0000-0001-000000000201', 'Taxa Extra - Reforma Piscina (1/6)', 250.00, '2024-12-15', 'pago', '2024-12-12', '00000000-0000-0000-0000-000000001001', NOW() - INTERVAL '5 days')
ON CONFLICT DO NOTHING;

-- =====================================================
-- 4. VOTOS NAS ENQUETES
-- =====================================================
-- Enquete em andamento: Carregadores veículos elétricos
INSERT INTO enquete_votes (id, enquete_id, user_id, option_id, created_at) VALUES
(gen_random_uuid(), '00000000-0000-0000-0004-000000000001', '00000000-0000-0000-0000-000000002001', 'sim', NOW() - INTERVAL '2 days'),
(gen_random_uuid(), '00000000-0000-0000-0004-000000000001', '00000000-0000-0000-0000-000000002003', 'sim', NOW() - INTERVAL '2 days'),
(gen_random_uuid(), '00000000-0000-0000-0004-000000000001', '00000000-0000-0000-0000-000000002005', 'nao', NOW() - INTERVAL '1 day'),
(gen_random_uuid(), '00000000-0000-0000-0004-000000000001', '00000000-0000-0000-0000-000000002011', 'sim', NOW() - INTERVAL '1 day'),
(gen_random_uuid(), '00000000-0000-0000-0004-000000000001', '00000000-0000-0000-0000-000000002021', 'abstencao', NOW() - INTERVAL '12 hours'),
(gen_random_uuid(), '00000000-0000-0000-0004-000000000001', '00000000-0000-0000-0000-000000002031', 'sim', NOW() - INTERVAL '6 hours')
ON CONFLICT DO NOTHING;

-- Enquete finalizada: Horário academia (resultado: 24h venceu)
INSERT INTO enquete_votes (id, enquete_id, user_id, option_id, created_at) VALUES
(gen_random_uuid(), '00000000-0000-0000-0004-000000000002', '00000000-0000-0000-0000-000000002001', '24h', NOW() - INTERVAL '20 days'),
(gen_random_uuid(), '00000000-0000-0000-0004-000000000002', '00000000-0000-0000-0000-000000002002', '24h', NOW() - INTERVAL '20 days'),
(gen_random_uuid(), '00000000-0000-0000-0004-000000000002', '00000000-0000-0000-0000-000000002003', '7-23', NOW() - INTERVAL '19 days'),
(gen_random_uuid(), '00000000-0000-0000-0004-000000000002', '00000000-0000-0000-0000-000000002004', '24h', NOW() - INTERVAL '19 days'),
(gen_random_uuid(), '00000000-0000-0000-0004-000000000002', '00000000-0000-0000-0000-000000002005', '24h', NOW() - INTERVAL '18 days'),
(gen_random_uuid(), '00000000-0000-0000-0004-000000000002', '00000000-0000-0000-0000-000000002011', '6-22', NOW() - INTERVAL '18 days'),
(gen_random_uuid(), '00000000-0000-0000-0004-000000000002', '00000000-0000-0000-0000-000000002012', '24h', NOW() - INTERVAL '17 days'),
(gen_random_uuid(), '00000000-0000-0000-0004-000000000002', '00000000-0000-0000-0000-000000002015', '24h', NOW() - INTERVAL '17 days'),
(gen_random_uuid(), '00000000-0000-0000-0004-000000000002', '00000000-0000-0000-0000-000000002021', '7-23', NOW() - INTERVAL '16 days'),
(gen_random_uuid(), '00000000-0000-0000-0004-000000000002', '00000000-0000-0000-0000-000000002025', '24h', NOW() - INTERVAL '16 days')
ON CONFLICT DO NOTHING;

-- Enquete finalizada: Animais nas áreas comuns
INSERT INTO enquete_votes (id, enquete_id, user_id, option_id, created_at) VALUES
(gen_random_uuid(), '00000000-0000-0000-0004-000000000003', '00000000-0000-0000-0000-000000002001', 'restringir', NOW() - INTERVAL '50 days'),
(gen_random_uuid(), '00000000-0000-0000-0004-000000000003', '00000000-0000-0000-0000-000000002003', 'sim', NOW() - INTERVAL '50 days'),
(gen_random_uuid(), '00000000-0000-0000-0004-000000000003', '00000000-0000-0000-0000-000000002005', 'sim', NOW() - INTERVAL '49 days'),
(gen_random_uuid(), '00000000-0000-0000-0004-000000000003', '00000000-0000-0000-0000-000000002011', 'nao', NOW() - INTERVAL '49 days'),
(gen_random_uuid(), '00000000-0000-0000-0004-000000000003', '00000000-0000-0000-0000-000000002015', 'restringir', NOW() - INTERVAL '48 days'),
(gen_random_uuid(), '00000000-0000-0000-0004-000000000003', '00000000-0000-0000-0000-000000002021', 'sim', NOW() - INTERVAL '48 days'),
(gen_random_uuid(), '00000000-0000-0000-0004-000000000003', '00000000-0000-0000-0000-000000002031', 'restringir', NOW() - INTERVAL '47 days'),
(gen_random_uuid(), '00000000-0000-0000-0004-000000000003', '00000000-0000-0000-0000-000000002035', 'sim', NOW() - INTERVAL '47 days')
ON CONFLICT DO NOTHING;

-- =====================================================
-- RESUMO DOS DADOS ADICIONAIS
-- =====================================================
-- Residents: 12 moradores vinculados
-- Encomendas: 4 aguardando, 4 retiradas
-- Cobranças: 17 (11 pagas, 5 vencidas, 1 pendente)
-- Inadimplentes: 4 unidades (B-102, B-301, B-104 x2, C-301)
-- Votos: 24 votos em 3 enquetes

SELECT 'Dados demo adicionais inseridos com sucesso!' as status;
